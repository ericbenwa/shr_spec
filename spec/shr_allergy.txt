Grammar:		DataElement 5.0
Namespace:		shr.allergy
Description:	"The SHR Allergy domain contains definitions for statements dealing with substance-related risks, including allergies and intolerances."
Uses:			shr.core, shr.base, shr.adverse, shr.condition, shr.observation

CodeSystem:     SCT = http://snomed.info/sct

//--- Statement about a adverse reaction risk

EntryElement:	AllergyIntoleranceAbsentFinding
Based on:		Finding
Concept:		TBD
Description:	"Used to record that a substance or class of substances does not pose a known elevated risk to the subject."
Value:			CodeableConcept from AllergenIrritantVS
				ObservedAttribute is #AllergyIntoleranceAbsent
	
EntryElement:	NoKnownAllergyFinding
Based on:		Finding
Concept:		MTH#C0262580
Description:	"Express no known allergies to drugs, foods, biologics, or environmental factors."
Value:			CodeableConcept from NoKnownAllergyVS
				ObservedAttribute is #AllergyIntoleranceAbsent
	
EntryElement:	AllergyIntolerancePresentFinding
Based on:		Finding
Concept:		TBD
Description:	"A finding at a point in time, related to an individual's allergy or intolerance to a substance or class of substances."
Value:			CodeableConcept from AllergenIrritantVS
				ObservedAttribute is #AllergyIntolerancePresent
0..*			SubstanceCategory
1..1			VerificationStatus



EntryElement:	AllergyIntolerance
Based on:		Entity
Concept:		SCT#420134006 "Propensity to adverse reactions"	
Description:	"A representation of an individual's allergy or intolerance to a substance or class of substances, allowing it to be tracked over time."
1..1			Type from AllergenIrritantVS
0..*			SubstanceCategory
1..1			VerificationStatus 
0..1			AdverseReactionType 
0..1			Criticality from http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality
0..*			RelatedFinding
0..1			Onset
0..1			Abatement
0..1			MostRecentOccurrence

		Element:		SubstanceCategory
		Concept:		TBD
		Description:	"Categorization of the risk substance as a food, drug, or environmental agent. For difficult-to-classify substances, one can leave this field empty or choose the most typical category."
		Value:			code from http://hl7.org/fhir/ValueSet/allergy-intolerance-category

		Element:		VerificationStatus
		Concept:		TBD
		Description:	"Whether an assessment has been confirmed by testing or observation."
		Value:			code from http://hl7.org/fhir/ValueSet/allergy-verification-status

		Element:		AdverseReactionType
		Concept:		TBD
		Description:	"Identification of the underlying physiological mechanism for a Reaction Risk."
		Value:			code from http://hl7.org/fhir/ValueSet/allergy-intolerance-type

		Element:		MostRecentOccurrence
		Concept:		TBD
		Description:	"The time of the last or latest of a series of events."
		Value:			OccurrenceTime

		
EntryElement:	FoodAllergy
Based on:		AllergyIntolerance
Description:	"Allergy to food substance"
Value:			CodeableConcept from FoodSubstanceVS
				SubstanceCategory includes #food


