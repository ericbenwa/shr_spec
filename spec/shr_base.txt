Grammar:		DataElement 5.0
Namespace:		shr.base
Description:	"Contains the SHR Entry definition -- the metadata added to any independent item in the SHR."
Uses:			shr.core, shr.entity, shr.encounter

CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     LNC = http://loinc.org
CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:		NCI = https://evs.nci.nih.gov/ftp1/CDISC/SDTM/
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category

Element: 		Entry
Concept:		MTH#C1705654
Description:	"Obsolete. Use InformationItem"

/*0..1			ShrId

	Element:		ShrId
	Concept:		TBD
	Description:	"A unique, persistent, permanent identifier for the overall health record belonging to the Patient."
	Value:			id */
	

Abstract Element: InformationItem
Concept:		MTH#C1705654
Description:	"Parent class for any item in clinical or administrative health-related system. Contains metadata attributes that apply to any item represented in the standard health record. An InformationItem can belong to a single person's health record, or represent an entity that surfaces in multiple records, such as organizations, providers, payments, decision support artifacts, etc."
1..1			EntryId
0..1			Narrative
0..1			Language
0..1			Metadata

	Element:    	EntryId
	Concept:        MTH#C0600091
	Description:    "A persistent, permanent identifier for an entry in a health record, unique within the scope of the health record."
	Value:          id

	Element:		Narrative
	Concept:		TBD
	Description:	"A human-readable narrative, potentially including images, that contains a summary of the resource, and may be used to represent the content of the resource to a human."
	1..1			NarrativeText
	1..1			NarrativeQualifier

			Element:		NarrativeText
			Concept:		TBD
			Description:	"Text of narrative, in xhtml."
			Value:			xhtml

			Element:		NarrativeQualifier
			Concept:		TBD
			Description:	"Additional information on how the narrative was generated, and the scope of information contained."
			Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/narrative-status


Element:		Metadata
Concept:		TBD
Description:	"Elements that belong to all information items."
0..1			VersionId
1..1			EntryType // would EntryConformance be clearer?
0..1			RecordStatus
0..*			SecurityLabel
0..*			Tag
0..1			OriginatorOrSource
0..1			InformationRecorder
0..1			AuthoredDateTime
1..1			LastUpdated

	Element:		EntryType  // Would EntryClass be clearer?
	Concept:		TBD
	Description:	"The class of the item, as a URI."
	Value:			uri

	Element:		RecordStatus
	Description:	"Concept indicating the state of this record, e.g., 'entered in error'."
	Value:			CodeableConcept
	
	Element:		SecurityLabel
	Concept:		TBD
	Description:	"A code that connects the entry to a security policy. Security labels can be updated when the resource changes, or whenever the security sub-system chooses to."
	Value:			CodeableConcept
	
	Element:		Tag
	Concept:		TBD
	Description:	"A code used to relate entries to categories or workflows. Applications are not required to consider the tags when interpreting the meaning of an entry."
	Value:			CodeableConcept

	Element: 		OriginatorOrSource
	Concept:		TBD
	Description:	"The origin or source of the information or request: a practitioner, patient, related person, organization, another health record, an algorithm, device, etc."
	Value:			Attribution

	Element:		InformationRecorder
	Concept:		TBD
	Description:	"The recorder of the information, if other than the information originator. For example, the nurse taking a list of medications reported by the patient."
	Value:			Attribution

		Element:		Attribution
		Description:	"Information ascribing the record to a particular contributor or responsible person."
		Value: 			ref(EntityOrRole)

		Element:		PatientOrPractitioner
		Based on:		Attribution
		Description:	"A choice of Patient or Practitioner. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner)

		Element:		PatientOrPractitionerOrRelatedPerson
		Based on:		Attribution
		Description:	"A choice of Patient, Practitioner and RelatedPerson. Needed for mapping to FHIR, for example, mapping AdverseEvent.SignedBy to FHIR AdverseEvent."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson)

		Element:		PractitionerOrRelatedPerson
		Based on:		Attribution
		Description:	"A choice of Practitioner and RelatedPerson. Needed for mapping to FHIR, for example, mapping EncounterPerformed.Participant to FHIR Encounter.participant.individual"
		Value:			ref(Practitioner) or ref(RelatedPerson)

		Element:		PersonOrOrganization
		Based on:		Attribution
		Description:	"A choice of Person (in any role) or Organization. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson) or ref(Organization)

		Element:		PersonOrDevice
		Based on:		Attribution
		Description:	"A choice of Person (in any role) or Organization. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson) or ref(Device)


	Element:		AuthoredDateTime
	Concept:		TBD
	Description:	"The time the information was recorded; usually, when the information item was created."
	Value:			dateTime

	Element: 		LastUpdated
	Concept:		TBD
	Description:	"The most recent date the information item was changed."
	Value:			instant


EntryElement:	Composition
Based on:		InformationItem
Description:	"A composition represents a set of Entries sharing common provenance, adocument such as an extract from a patient record, a knowledge artifact, or a catalog definition."
//1..1            Status from http://hl7.org/fhir/ValueSet/composition-status
//1..1            Type should be from http://hl7.org/fhir/ValueSet/doc-typecodes
//1..1            CreationTime  -- from Entry -- maps to date
0..*            Section

    Element:        Section
    Based on:       InformationItem
    Description:    "Represents a section containing entries in a composition."
    //0..1            Title
    0..*            InformationItem


/*
	Element:		ShrId
	Concept:		TBD
	Description:	"A unique, persistent, permanent identifier for the overall health record belonging to the Patient."
	Value:			id

	Element:    	HealthRecordId
	Concept:        MTH#C1549718
	Description:    "A unique, persistent, permanent identifier for a health record."
	Value:          id
	
	Element:		DerivedFrom
	Concept:		TBD
	Description:	"Indicates the source of information in the case the Entry has been created by logical extension or modification of one or more source entries."
	Value:			ref(InformationItem)
	
	Element:		SignedBy
	Description:	"Provenance information specific to the signing of the clinical statement."
	Value:			Attribution

	Element:		CosignedBy
	Description:	"Provenance information specific to the cosigning of the clinical statement."
	Value:			Attribution

	Element:		VerifiedBy
	Description:	"Provenance information specific to the verification process associated with this statement (e.g., verifier, when verified, etc.)"
	Value:			Attribution
		
		Element:		Attribution
		Description:	"Information ascribing the record to a particular contributor or responsible person."
		1..1			EntityOrRole  // TODO: change to Participant
		0..1			RecordedOn
		0..1			Signature

			Element:		RecordedOn
			Description:	"The time of the attribution action."
			Value:			instant


*/

