Grammar:	DataElement 5.0
Namespace:		shr.base
Description:		"The SHR Base domain contains definitions for elements that are widely shared in SHR, including the base Entry and associated metadata."
Uses:				shr.core, shr.demographics, shr.actor, shr.encounter, shr.device

//---------------  Missing Information -----------------------

Element:		MissingValueReason
Concept:		TBD
Description:	"The reason a required element, complex type, or primitive value is missing. Missing value reason can be substituted for any value. By convention in SHR, any required element or value can be substituted with a missing value reason."
Value: 			CodeableConcept from MissingValueReasonVS


//----------------  Entry -------------------

Element:		Entry
Concept:		TBD
Description:	"Root class for all entries."


Element:		InformationEntry
Concept:		MTH#C1705654
Description:	"An item inserted in an electronic record, not necessarily associated with a single patient, and distinct from a clinical statement. May be an administrative record."
1..1			ShrId
1..1			EntryId
0..1			Version
1..*			EntryType
1..1    		OriginalCreationDate
1..1			LastUpdateDate
0..1			Language
0..1			Author
0..*			TBD "SecurityLabel"
0..*			TBD "Tag"

	Element:		ShrId
	Concept:		MTH#C0600091
	Description:	"A unique, persistent identifier for the Standard Health Record to which this entry belongs."
	Value:			id

	Element:    	EntryId
	Concept:        MTH#C0600091
	Description:    "A unique, persistent, permanent identifier for an entry in a health record."
	Value:          id

	Element:		EntryType
	Concept:		TBD
	Description:	"The SHR data element identifier, for example, http://standardhealthrecord.org/allergy/SubstanceRisk. The EntryType array includes the entire 'based on' hierarchy to enable searching for classes of things, for example, searching for all vital signs, or all types of behavioral observations."
	Value:			uri
	
Element:		ExternalHealthRecord
Concept: 		TBD
Description:	"A health record used to help populate the current health record."
1..1			OrganizationalIdentifier
1..1			AccessTime

	Element:		AccessTime
	Concept:		TBD
	Description:	"Point in time when data was accessed."
	Value:			dateTime
	
	Element:   	 	OriginalCreationDate
	Concept:        MTH#C3669169
	Description:    "The point in time when the information was recorded in the system of record."
	Value:          dateTime

	Element: 		LastUpdateDate
	Concept:		TBD
	Description:	"A date that the entry was changed."
	Value:			dateTime

	Element:    	Informant
	Concept:        MTH#C0449416
	Description:    "The person or entity that provided the information in the entry, as distinct from the actor creating the entry, e.g. the subject (patient), medical professional, family member, device or software program."
	Value:	        PersonOfRecord or Practitioner or RelatedPerson // TODO: ComputerProgram or Device or Organization or ContributingRecord

	Element:		Author
	Concept:		TBD
	Description:	"The person or organization who created the entry and is responsible for (and may certify) its content."
	Value:			ref(PersonOfRecord) or ref(Practitioner) or ref(RelatedPerson) or ref(Organization) or ref(Device) // TODO: Does Person imply references to Practitioner are allowed, or does it need to be explicit? (that IS what is intended)

	Element:		Language
	Concept:		MTH#C0023008
	Description: 	"A human language, spoken or written."
	Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/languages

	
EntryElement:	PatientSpecificEntry
Based on:		InformationEntry
Concept:		TBD
Description:	"Base class for any patient-related information entered in the SHR."
1..1			PersonOfRecord
1..1			FocalSubject
0..1			SubjectIsThirdPartyFlag
0..1			Narrative
0..1    		Informant
0..1			AssociatedEncounter


	Element:		FocalSubject
	Concept:		TBD
	Description:	"The person or thing that this entry refers to, usually the Person of Record. However, not all entries refer to the Person of Record. The entry could refer to a fetus, care giver, or relative (living or dead)."
	Value:			ref(Person)

	Element:		SubjectIsThirdPartyFlag
	Concept:		TBD
	Description:	"If true, the subject of this entry is someone other than the Person of Record, for example, a family member."
	Value:			boolean

	Element:		Narrative
	Concept:		TBD
	Description:	"A human-readable narrative, potentially including images, that contains a summary of the resource, and may be used to represent the content of the resource to a human."
	Value:			xhtml
	1..1			NarrativeQualifier

			Element:		NarrativeQualifier
			Concept:		TBD
			Description:	"Additional information on how the narrative was generated, and the scope of information contained."
			Value:			code from http://hl7.org/fhir/ValueSet/narrative-status

	Element:		AssociatedEncounter
	Concept:		TBD
	Description:	"The encounter or episode of care that led to creation of this entry."
	Value:			ref(Encounter)


	
EntryElement:	ClinicalStatement
Based on:		PatientSpecificEntry
Concept:		TBD
Description:	"Documentation of clinical information about a subject of information such as a patient or a relative of the patient, asserted by a particular source, recorded, and potentially verified."
1..1			Topic
1..1			Context

Element:			Topic
Concept:			MTH#C1706203 "Subject - topic"
Description:		"What the statement is about, e.g., the kind of finding or procedure asserted. Attribute aligns with the SNOMED CT Situation with Explicit Context (SWEC) Concept Model attributes 'Associated finding (attribute)' (SCTID: 246090004) and 'Associated procedure (attribute)' (SCTID: 363589002). The range of this attribute is a structure (StatementTopic) rather than a value set. The topic of the clinical statement must align with the range specified by the SWEC Concept Model. For instance, if the 'topic' attribute's meaning is bound to 'Associated finding', then the topic may not be a specialization of the Act statement topic."


Element:			Context
Concept:			MTH#C0449255
Description:		"The ontological status of the statement, e.g., whether it exists, does not exist, is planned, etc. Attribute aligns with the SNOMED CT Situation with Explicit Context Concept Model context attributes 'Finding context (attribute)' (SCTID: 408729009) and 'Procedure context (attribute)' (SCTID: 408730004). The range of this attribute is a structure (StatementContext) rather than a value set. The context of the clinical statement must align with the range specified by the SWEC Concept Model. For instance, if the 'context' attribute's meaning is bound to 'Finding context', then the context may not be a specialization of the ActionContext statement context. Instead, it should be a specialization of the FindingContext statement context."


// TODO: Study doesn't belong in shr.base

EntryElement:		Study
Concept:			TBD
Description:		"A clinical trial or other formal study."
0..1				Title
0..1				Identifier


