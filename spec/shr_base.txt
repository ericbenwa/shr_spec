Grammar:		DataElement 5.0
Namespace:		shr.base
Description:	"Contains the SHR Entry definition -- the metadata added to any independent item in the SHR."
Uses:			shr.core, shr.entity, shr.encounter

CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     LNC = http://loinc.org
CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:		NCI = https://evs.nci.nih.gov/ftp1/CDISC/SDTM/
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category

// NOTE: Entry will eventually be deprecated, as its fields are really a part
// of the implementation, not part of the model. Once the CIMPL tooling
// makes these implicit, Entry and its field elements will go away.
Element: 		Entry
Concept:		MTH#C1705654
Description:	"Obsolete. Use DomainResource"
0..1			ShrId
0..1			EntryId
0..1			EntryType

	Element:			ShrId
	Concept:			TBD
	Description:	"A unique, persistent, permanent identifier for the overall health record belonging to the Patient."
	Value:				id
	
	Element:    	EntryId
	Concept:      MTH#C0600091
	Description:  "A persistent, permanent identifier for an entry in a health record, unique within the scope of the health record."
	Value:        id

	Element:			EntryType  // Would EntryClass be clearer?
	Concept:			TBD
	Description:	"The class of the item, as a URI."
	Value:				uri


Abstract Element:	Resource
Description:	"Parent class for any item in clinical or administrative health-related system. Contains metadata attributes that apply to any item represented in the standard health record. An DomainResource can belong to a single person's health record, or represent an entity that surfaces in multiple records, such as organizations, providers, payments, decision support artifacts, etc."
0..1			Metadata
0..1			Language from http://hl7.org/fhir/ValueSet/languages if covered  // DSTU 2 change -- language has required binding in Argonaut
0..1			ImplicitRules

	Element:		Language
	Concept:		MTH#C0023008
	Description: 	"A human language, spoken or written."
	Value:			CodeableConcept

	Element:		ImplicitRules
	Description: 	"A set of rules under which this content was created"
	Value:			uri


Abstract Element: DomainResource
Based on:		Resource
Description:	"Parent class for any item in clinical or administrative health-related system. A DomainResource can belong to a single person's health record, or represent an entity that surfaces in multiple records, such as organizations, providers, payments, decision support artifacts, etc."
1..1			TopicCode   // TopicCode makes sense at the DomainResource Level
0..1			Narrative

		Element:		TopicCode
		Description:	"A code describing what the domain resource concerns, such as a condition, lab test, property, or an item. In an observation, the code represents the 'question': the aspect or property being observed or measured. In an existence assertion, the code represents the type of event, condition, or phenomenon that is being asserted to exist (present) or not exist (absent)."
		Value:			CodeableConcept

		Element:		Narrative
		Concept:		TBD
		Description:	"A human-readable narrative, potentially including images, that contains a summary of the resource, and may be used to represent the content of the resource to a human."
		1..1			NarrativeText
		1..1			NarrativeQualifier

				Element:		NarrativeText
				Description:	"Text of narrative, in xhtml."
				Value:			xhtml

				Element:		NarrativeQualifier
				Description:	"Additional information on how the narrative was generated, and the scope of information contained."
				Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/narrative-status


Element:		Metadata
Description:	"Elements that belong to all information items."
0..1			VersionId
0..1			LastUpdated
0..*			SecurityLabel
0..*			Tag
//0..1			RecordStatus
0..1			InformationSource
0..1			InformationRecorder
0..1			AuthoredDateTime

	Element:		RecordStatus
	Description:	"Concept indicating the state of this record, e.g., active, inactive, entered in error."
	Value:			CodeableConcept
	
	Element:		SecurityLabel
	Concept:		MTH#C3858779 "security classification"
	Description:	"A code that connects the entry to a security policy. Security labels can be updated when the resource changes, or whenever the security sub-system chooses to."
	Value:			CodeableConcept
	
	Element:		Tag
	Concept:		MTH#C4280044  "Metatags"
	Description:	"A code used to relate entries to categories or workflows. Applications are not required to consider the tags when interpreting the meaning of an entry."
	Value:			CodeableConcept

	Element:		AuthoredDateTime
	Concept:		TBD
	Description:	"The time the information was recorded; usually, when the information item was created."
	Value:			dateTime

	Element: 		LastUpdated
	Concept:		TBD
	Description:	"The most recent date the information item was changed."
	Value:			instant

	Element: 		InformationSource
	Concept:		TBD
	Description:	"The origin or source of the information or request: a practitioner, patient, related person, organization, another health record, an algorithm, device, etc."
	Value:			Participant  // TODO: might have to change to Participation

	Element:		InformationRecorder
	Concept:		TBD
	Description:	"The recorder of the information, if other than the information originator. For example, the nurse taking a list of medications reported by the patient."
	Value:			Participant  // TODO: might have to change to Participation

		Element:		Participant
		Concept:		MTH#C1550369
		Description:	"An entity (usually a Practitioner, Patient, or Organization but potentially a device or other entity) that participates in a healthcare task or activity."
		Value:			ref(EntityOrRole)

		Element:		PatientOrPractitioner
		Based on:		Participant
		Description:	"A choice of Patient or Practitioner. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner)

		Element:		PatientOrPractitionerOrRelatedPerson
		Based on:		Participant
		Description:	"A choice of Patient, Practitioner and RelatedPerson. Needed for mapping to FHIR, for example, mapping AdverseEvent.SignedBy to FHIR AdverseEvent."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson)

		Element:		PractitionerOrRelatedPerson
		Based on:		Participant
		Description:	"A choice of Practitioner and RelatedPerson. Needed for mapping to FHIR, for example, mapping EncounterPerformed.Participant to FHIR Encounter.participant.individual"
		Value:			ref(Practitioner) or ref(RelatedPerson)

		Element:		PersonOrOrganization
		Based on:		Participant
		Description:	"A choice of Person (in any role) or Organization. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson) or ref(Organization)

		Element:		PersonOrDevice
		Based on:		Participant
		Description:	"A choice of Person (in any role) or Organization. Needed for mapping to FHIR."
		Value:			ref(Patient) or ref(Practitioner) or ref(RelatedPerson) or ref(Device)



EntryElement:	Composition
Based on:		DomainResource
Description:	"A composition represents a set of Entries sharing common provenance, a document such as an extract from a patient record, a knowledge artifact, or a catalog definition."
1..1            VerificationStatus from http://hl7.org/fhir/ValueSet/composition-status
1..1            Type should be from http://hl7.org/fhir/ValueSet/doc-typecodes
0..*            Section

    Element:        Section
    Description:    "Represents a section containing entries in a composition."
    //0..1            Title
    0..*            DomainResource
	0..*			Section


/*
	Element:    	HealthRecordId
	Concept:        MTH#C1549718
	Description:    "A unique, persistent, permanent identifier for a health record."
	Value:          id
	
	Element:		DerivedFrom
	Concept:		TBD
	Description:	"Indicates the source of information in the case the Entry has been created by logical extension or modification of one or more source entries."
	Value:			ref(DomainResource)
	
	Element:		SignedBy
	Description:	"Provenance information specific to the signing of the clinical statement."
	Value:			Participant

	Element:		CosignedBy
	Description:	"Provenance information specific to the cosigning of the clinical statement."
	Value:			Participant

	Element:		VerifiedBy
	Description:	"Provenance information specific to the verification process associated with this statement (e.g., verifier, when verified, etc.)"
	Value:			Participant


*/

