Namespace:      shr.metadata

//-------------- Metadata Concerning the SHR as a Whole ------------------


Section:  	Header
1..1	ShrInformation  // no excuses!
1..*	ContributingRecord


Group:			ShrInformation
Concept:		TBD
Description:	"Basic information about the SHR and the Person of Record"
1..1	StandardHealthRecordID
1..1	PersonOfRecordID
1..1	Anonymized
1..1	FictionalPerson

DataElement:	StandardHealthRecordID
Concept:		TBD
Description:	"The persistent, unique ID of this standard health record"
Value:			id

DataElement: 	PersonOfRecordID
Concept:		TBD
Description:	"The persistent, unique ID of the person described by and tracked by this record. This ID has no intrinsic meaning and should not contain any identifiable information, such a mashup of name and birth date."
Value:			id

DataElement:	Anonymized
Concept:		TBD
Description:	"Flag indicating if this record has been anonymized"
Value:			boolean

DataElement:	FictionalPerson
Concept:		TBD
Description:	"Flag indicating if this record represents a fictional (not real) person"
Value:			boolean

Group:			ContributingRecord
Concept: 		TBD
Description:	"A health record used to help populate the current health record"
1..1	HealthRecordID
1..1	ProvidingOrganization
1..1	WhenAccessed

DataElement:	HealthRecordID
Concept:		MTH #C0600091
Description:	"Identifier for a health record. Interpreted in the context of the providing organization."
Value:			id

DataElement:	ProvidingOrganization
Concept:		TBD
Description:	"The organization providing information or resource"
Value:			ref(Organization)  //TBD

DataElement:	WhenAccessed
Concept:		TBD
Description:	"Point in time when data was last accessed"
Value:			dateTime



/*------------------------ Metadata Associated with Each Entry ----------------------

  Metadata is information concerning the entry itself -- it does not delve into the content of the entry
  It covers when and by whom the entry was created, updated, the recorder, and the source of information
  Actors can comment on the entry using the log feature
  
  Each entry is comprised of:
		1) Entry metadata: when and by whom the entry was created, updated,etc.
		2) Entry data: specific data related to the entry
  
  In the future, the metadata might extend to:
		l) information about the access, sensitivity, and permissions (consent to share) associated with the entry
		2) information about the quality and certainty of the information in the entryAction
*/  



Group:    		EntryMetadata
Concept:     	MTH #C1708992
Description:    "Describes the identification, timing, attribution, and other circumstances involved in an SHR entry"
1..1    EntryID  // identifier for the entry
1..1	PersonOfRecordID   // every entry carries the personOfRecordID
0..1    ContentCreationDate
0..*    ContentAttribution
1..1    WhenRecorded
0..1    RecordedBy
//0..*    DataSharingPermission
0..1    Language
1..1	TextSummary
1..1    LastUpdated
0..*	EventLog


DataElement:    EntryID
Concept:        MTH #C0600091
Description:    "A unique, persistent, permanent identifier for an entry in a health record"
Value:          id

DataElement:    ContentCreationDate
Concept:        MTH #C2347859
Description:    "The date on which content was created, or content creation began"
Value:          date

DataElement:    ContentAttribution
Concept:        MTH #C0449416
Description:    "From whom or what the information originates, as distinct from the actor creating the entry"
Value:          ref(ComputerProgram) or ref(Device) or ref(Person) or ref(Organization) // TBD

DataElement:    WhenRecorded
Concept:        MTH #C3669169
Description:    "The point in time when a piece of information was recorded"
Value:          dateTime

DataElement:    RecordedBy
Concept:        MTH #C1707531
Description:    "Indicates the person or authoritative body who brought the item into existence"
Value:          ref(Person) or ref(Organization) // TBD


/* TO DO: Data sharing permissions are TBD.
  Unlike most other data elements, privacy flags are intimately linked to business rules that interpret and act on the data, to enable or disable sharing of data with particular parties.
DataElement:	DataSharingPermission
Concept:		MTH #C0086100
Description:	"A data-sharing permission to be applied to the information"
Value:			code from http://standardhealthrecord.org/core/sharingPermission
*/

DataElement:	Language
Concept:		MTH #C0023008
Description: 	"An identifier for a human language"
Value:			code from http://hl7.org/fhir/ValueSet/languages

DataElement: 	TextSummary
Concept:		MTH #C1706244
Description:	"A summary of this entry in the form of text"
Value:			string

DataElement: 	LastUpdated
Concept:		TBD
Description:	"The time the entry was last updated (changed)"
Value:			dateTime

Group:			EventLog
Concept:		MTH #C1708728
Description:	"A record of changes to the entry, similar to a commit log." 
// Note: if we use an external content management approach, such as Github, the event log may not be required.
0..1    ContentCreationDate
0..*    ContentAttribution
1..1    WhenRecorded
0..1    RecordedBy
1..1	EntryAction
1..1	Comment

DataElement:	EntryAction
Concept:		TBD
Description:	"A description of the action taken on this entry"
Value:			code from http://standardhealthrecord.org/core/entryAction

DataElement:	Comment
Concept:		MTH #C0947611
Description:	"A critical or explanatory note written to discuss, support, explain changes to, or dispute information in this entry"
Value:			string



