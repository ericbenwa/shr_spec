Grammar:	Map 5.1
Namespace:	shr.procedure
Target:		FHIR_STU_3


ProcedurePerformed maps to http://hl7.org/fhir/us/core/StructureDefinition/us-core-procedure:
	ProcedureCode maps to code
	Patient maps to subject
	Category maps to category
	constrain notDone to 0..0
	constrain notDoneReason to 0..0
	BodySite.BodySiteCode maps to bodySite

	PartOf maps to partOf
	Annotation maps to note
	Encounter maps to context
	Reason maps to reasonCode
	OccurrenceTimeOrPeriod maps to performed[x]
	Participation maps to performer
	Participation.Participant maps to performer.actor
	Participation.ParticipationType maps to performer.role
	Participation.OnBehalfOf maps to performer.onBehalfOf
	PerformanceStatus maps to status
// TODO  The following statement is failing it might be a bug
//	Method maps to http://hl7.org/fhir/StructureDefinition/procedure-method
	RelatedRequest.Value maps to basedOn
//	RelatedPlan maps to definition
	Outcome maps to outcome
	Facility maps to location


ProcedureNotPerformed maps to http://hl7.org/fhir/us/core/StructureDefinition/us-core-procedure:
	ProcedureCode maps to code
	Patient maps to subject
	Category maps to category
// TODO the following is causing a crash
//	fix notDone to true
	Reason maps to notDoneReason
	BodySite.BodySiteCode maps to bodySite
//	BodySite.Laterality maps to bodySite.extension.value[x] (slice on = url; slice strategy = value)
//	BodySite.AnatomicalDirection maps to bodySite.extension.value[x]
//	BodySite.CommentOrDescription maps to bodySite.extension.value[x]
//	BodySite.Media maps to bodySite.extension.value[x]
//	BodySite.DistanceFromLandmark maps to bodySite.extension.value[x]
//	PartOf maps to partOf
	Annotation maps to note
	constrain performed[x] to 0..0
	constrain performer to 0..0
	fix status to http://hl7.org/fhir/event-status#suspended // FHIR is lacking a not-done status (see Gforge issue #14256)
//	Encounter maps to context
	RelatedRequest.Value maps to basedOn
//	RelatedPlan maps to definition
	constrain outcome to 0..0
	constrain location to 0..0

SurgicalProcedurePerformed maps to http://hl7.org/fhir/us/core/StructureDefinition/us-core-procedure:
	DirectSite maps to http://hl7.org/fhir/StructureDefinition/procedure-targetBodySite
	IndirectSite maps to http://hl7.org/fhir/StructureDefinition/procedure-approachBodySite
	SurgicalApproach maps to http://hl7.org/fhir/StructureDefinition/procedure-approachBodySite


ProcedureRequested maps to ProcedureRequest:
	CreationDate maps to authoredOn
	Requester maps to requester.agent
	ProcedureCode maps to code
	Category maps to category
	constrain doNotPerform to 0..0 
	Patient maps to subject
	BodySite.BodySiteCode maps to bodySite
//	BodySite.Laterality maps to bodySite.extension.value[x] (slice on = url; slice strategy = value)
//	BodySite.AnatomicalDirection maps to bodySite.extension.value[x]
//	BodySite.CommentOrDescription maps to bodySite.extension.value[x]
//	BodySite.Media maps to bodySite.extension.value[x]
//	BodySite.DistanceFromLandmark maps to bodySite.extension.value[x]
	Encounter maps to context
	Reason maps to reasonCode
	RequestStatus maps to status
	RequestIntent maps to intent
	ExpectedPerformanceTime maps to occurrence[x]
	ExpectedPerformerType maps to performerType
	ExpectedPerformer maps to performer
	PriorityRank  maps to priority

ProcedureRequestedAgainst maps to ProcedureRequest:
	fix doNotPerform to true
	fix intent to http://hl7.org/fhir/request-intent#proposal
	CreationDate maps to authoredOn
	// who is the requester?
	ProcedureCode maps to code
	Category maps to category
	Patient maps to subject
	BodySite.BodySiteCode maps to bodySite
//	BodySite.Laterality maps to bodySite.extension.value[x] (slice on = url; slice strategy = value)
//	BodySite.AnatomicalDirection maps to bodySite.extension.value[x]
//	BodySite.CommentOrDescription maps to bodySite.extension.value[x]
//	BodySite.Media maps to bodySite.extension.value[x]
//	BodySite.DistanceFromLandmark maps to bodySite.extension.value[x]
	Reason maps to reasonCode
//	Encounter maps to context
