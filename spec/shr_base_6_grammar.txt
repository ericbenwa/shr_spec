Grammar:		DataElement 6.0
Namespace:		shr.base
Description:	"Contains the SHR Entry definition -- the metadata added to any independent item in the SHR."
Uses:			shr.core


//------------ BASE CLASSES----------------
/* PRINCIPLES:
1) NO CONCEPT MODEL --- THAT'S TERMNOLOGY - this means we will never have a type hierarchy
2)  FLAT, PURPOSE-AGNOSTIC LIST OF OBSERVATIONS AND ASSERTIONS THAT CAN BE GROUPED AS NEEDED
3)  NO NEED TO DISTINGUISH "STAND-ALONE" FROM "COMPONENT" OBSERVATIONS, OR PANELS FROM "COMPOUND OBSERVATIONS"
4) ALL COMPUTABLE INFORMATION IN CODES -- CLASS NAMES ARE CONSIDERED NON-COMPUTABLE AND CANNOT BE RELIED UPON AS ANYTHING OTHER THAN A HUMAN-READABLE DESCRIPTION OF THE CONTENTS
5)  OPEN-WORLD ASSUMPTION 
* just because something isn't stated, it doesn't mean it doesn't exist
* something stated to NOT exist, does not exist					
*/

Abstract Element:	Statement
Description:		"Base class for all types of clinical statements."

Abstract Element:	Finding
Based on:			Statement
Description:		"A determination, such as an observation, assertion, opinion, fact, or judgment."
Property:           1..1 FindingStatus			
Property:           0..1 RelevantTime
Property:           0..1 FindingMethod

		Element:		FindingStatus
		Concept:		TBD
		Description:	"Indicates whether the finding is preliminary, amended, final, etc."
		Value:			conceptCode from http://hl7.org/fhir/ValueSet/observation-status

		Element:		RelevantTime
		Description:	"The time or time period that the statement addresses."
		Value:			dateTime or TimePeriod 

		Element:		FindingMethod
		Description:	"The method used to determine the finding."
		Value:			conceptCode

Abstract Element:	ExistentialFinding
Based on:			Finding
Description:		"An assertion of a physical or conceptual entity, relationship, situation, condition, or phenomenon present or absent."
Property:           1..1 PresentOrAbsent

		Element:		PresentOrAbsent	
		Description:	"Whether the object is present or absent, exists or does not exist."
		Value:			conceptCode from PresentAbsentVS

Abstract Element:	ObjectPresentOrAbsent
Based on:			ExistentialFinding
Description:		"An assertion of a physical or conceptual entity, relationship, role, situation, condition, or phenomenon present or absent."
Property:           0..1 Subject
Property:           0..1 ObjectTypeCode
Property:           0..1 ObjectIdentifier

		Element:		Subject
		Description:	"The person, place, event, condition, other statement that this statement addresses or belongs to. 
		For an existential finding, the Subject is the 'owner' of the object said to exist or not exist. For example, the subject for a condition is a patient; the subject for wound size is a wound. Subjects are themselves statements."
		Value:			Statement

		Element:		ObjectTypeCode
		Description: 	"A code representing the type of entity, person, role, condition, or phenomenon that is being asserted to exist or not exist."
		Value:			conceptCode

		Element: 		ObjectIdentifier
		Description:	"For later reference, an identifier for the object implied by the assertion, which allows the object to be tracked over time. For example, a wound number is used to track a specific wound's condition over time."
		Value:			string

EntryElement:		RelationshipPresentOrAbsent
Based on:			ExistentialFinding
Description:		"An assertion of a realtionship between two things, either present or absent."
Property:           0..1 Subject
Property:           0..1 RelationshipCode
Property:           0..1 Object

		Element:		RelationshipCode
		Description:	"The code describing the relationship asserted between the two objects."
		Value:			conceptCode

		Element:		Object
		Description:	"The phenomenon (person, place, event, condition, other statement) that the subject of this statement addresses or belongs to."
		Value:			Statement

// + ExceptionValue, DeltaFlag, Issued, Observer, Recorder, +Method of observation, etc.


Abstract Element: 	Observation
Based on:			Finding
Description:		"A statement that asserts the value of a property (observable) of the subject. The subject is often the patient, but may be a condition, a physical structure, or another clinical statement. For example, an interpretation is a finding about an observation."
Property:           1..1 Subject
Property:           1..1 ObservableCode
Property:           0..1 ResultValue
Property:           0..* Qualifier

		Element:		ObservableCode
		Description:	"A code describing the aspect or property of the subject being observed or measured. The ObservableCode is the 'question code' that pairs to the 'answer' contained in the ResultValue."
		Value:			conceptCode

		Element:		ResultValue
		Description:	"The finding itself, such as the blood pressure value recorded."
		Value:			Quantity or conceptCode or string or boolean or Range or Ratio or time or dateTime or TimePeriod or Media


		Element:		Qualifier
		Description:	"A condition or circumstance associated with an observation that affects the interpretation of the result value."
		Value:			conceptCode


EntryElement:		CodedObservation
Based on:			Observation
Constraint:			ResultValue.Value is type conceptCode

EntryElement:		QuantitativeObservation
Based on:			Observation
Constraint:			ResultValue.Value is type Quantity

/*
//		0..1			DistanceFromLandmarkBodySite
//		0..1			ClockDirectionFromLandmarkBodySite

			Element:		BodySiteOrLandmarkCode
			Concept:		LNC#72369-2
			Description:	"A code describing a body site that might be the body site of interest, or a landmark used to determine a body site."
			Value:			conceptCode from 


			Element:		DistanceFromLandmarkBodySite
			Concept:		TBD
			Description:	"The distance of the target body site from a landmark body site."
			Value:			Quantity

			Element:		ClockDirectionFromLandmarkBodySite
			Concept:        SCT#272485000 "Clockface position (qualifier value)"
			Description:	"A direction indicated by an angle relative to 12 o'clock."
			Value:			conceptCode from ClockDirectionVS

			Element:		AnatomicalLaterality
			Concept:        SCT#272741003 "Laterality (attribute)"
			Description:	"Anatomical location or specimen further detailing the side(s) of interest."
			Value:			conceptCode from http://hl7.org/fhir/ValueSet/bodysite-laterality
*/


// -------------  Clusters -----------------

EntryElement:   Composition
Based on:       Statement
Description:    "A set of one or more statements or aggregations that should be interpreted together, exchanged as a collection, or may be aggregregated for the purpose of clinical input or output."
Property:       1..1 Subject
Property:       1..1 TypeCode
Property:       0..* Statement
//0..*			Cluster

		Element:	Cluster
		Based on:	Statement
		Description:	"A collection of statements and groups."
		Property:   0..1 TypeCode
		Property:   0..* Statement
	//	0..*		Cluster

		Element:	TypeCode
		Description:	"A code that describes the type of composition or section, such as a section or document type identifier."
		Value:		conceptCode

