Grammar:	DataElement 4.1
Namespace:	shr.observation
Description:		"The SHR Observation domain contains basic definitions used to capture information about measurements, lab tests, and assessments."
Uses:		shr.base, shr.core, shr.demographics, shr.actor, shr.lab, shr.medication, shr.finding

CodeSystem: 	OBSCAT = http://hl7.org/fhir/observation-category
CodeSystem:		OBSSTAT = http://hl7.org/fhir/observation-status


EntryElement: 	Observation
Concept:		MTH#C1554188
Based on:		Action
Description:	"Information about a subject that results from an act of observing, measuring, or evaluation. The focus of an observation can include the subject's behavior, physiological state, health state, functional status, environment, exposures to substances, etc. An observation contains information about the act of observing, as well as the result of the observation. The method of observing can vary widely, from questioning, physical examination, formal assessment vehicles, laboratory tests, imaging procedures, etc. Patient-reported information is also considered an observation, where subject and observer are the same individual."
Value:			Quantity or CodeableConcept or string or boolean or Range or Ratio or time or dateTime or TimePeriod // or SampledData or Attachment (TODO)
1..1			ActionTypeCode is type ObservationTypeCode  // e.g. Diagnosis, A1C
0..1			Category with CodeableConcept from http://hl7.org/fhir/ValueSet/observation-category
0..1			Reason
				NonOccurrenceModifier.Reason with CodeableConcept from ObservationNotMadeReasonVS
1..1			Status with CodeableConcept from http://hl7.org/fhir/ValueSet/observation-status
0..1			Method
0..*			ObservationQualifier
0..1			ClinicallyRelevantTime  // may not be the same as the OccurrenceTime
0..*			Setting
0..*			Location
0..1			Interpretation
0..1			Comment

		Element:		ObservationTypeCode
		Based on:		ActionTypeCode
		Concept:		TBD
		Description:	"A term from a controlled vocabulary that defines what is being observed, measured, or asked, as specifically as possible. The code should always align with the concept of the element, but may be more specific, for example, a blood pressure observation can be coded as a sitting blood pressure or standing blood pressure."
		Value:			CodeableConcept

		Element:		ObservationQualifier
		Concept:		MTH#C1443279
		Description:	"A description of the conditions or context of an observation, for example, under sedation, fasting or post-exercise. Body position and body site are also qualifiers, but handled separately. A qualifier cannot modify the measurement type; for example, a fasting blood sugar is still a blood sugar."
		Value:			CodeableConcept

		Element:		Method
		Concept:		TBD
		Description:	"The method of the observation, for example, the specific imaging technical or assessment vehicle."
		Value:			CodeableConcept

		Element:		ClinicallyRelevantTime
		Concept:		TBD
		Description:	"The time or time period that the observation addresses. The clinically relevant time is not necessarily when the information is gathered or when a test is carried out, but for example, when a specimen was collected, or the time period referred to by the question. Use a TimePeriod for a measurement or specimen collection continued over a significant period of time (e.g. 24 hour Urine Sodium)."
		Value:			GeneralizedTemporalContext

EntryElement:	CodeableConceptObservation
Based on:		Observation
Concept:		TBD
Description:	"An observation whose value is a codeable concept"
Value:			CodeableConcept

EntryElement:	QuantitativeObservation
Based on:		Observation
Concept:		TBD
Description:	"An observation whose value is a quantity"
Value:			Quantity

EntryElement:	BooleanObservation
Based on:		Observation
Concept:		TBD
Description:	"An observation whose value is a quantity"
Value:			boolean

EntryElement:	BodyStructureObservation
Concept:		MTH#C1268086
Description:	"Observation of the existence (or non-existence) distinct anatomical or pathological morphological feature or organizational pattern, acquired or innate. Examples include tissue types, tumors, and wounds. The observation has a body site that allows the the structure to be located in the body. The observation identifier allows other observations of the same body structure to be related to this observation and tracked over time."
Based on:		Observation
Value:			CodeableConcept from BodyStructureVS
1..1			BodySite
0..1			NonOccurrenceModifier  // the structure does not exist at the given body site


EntryElement:	Panel
Concept:		TBD
Based on:		Action
Description:	"A grouping of a set of related observations, frequently captured at the same time, and presented as a report, such as a pathology report. An example is a completed mental health assessment questionnaire, or a complete blood count (CBC). Typically the Category and Reason are not given for individual observations that are part of the panel, but rather given at the level of the panel itself. The panel and all its sub-observations share the same metadata (provenance)."
// Almost exactly the same attributes as an observation, but different mapping rules apply 
1..1			ActionTypeCode is type ObservationTypeCode  // e.g. Diagnosis, A1C
0..1			Category with CodeableConcept from http://hl7.org/fhir/ValueSet/observation-category
0..1			Reason
				NonOccurrenceModifier.Reason with CodeableConcept from ObservationNotMadeReasonVS
1..1			Status with CodeableConcept from http://hl7.org/fhir/ValueSet/diagnostic-report-status
0..1			Method
0..*			ObservationQualifier
0..1			ClinicallyRelevantTime  // may not be the same as the OccurrenceTime
0..*			Setting
0..*			Location
0..*			Interpretation
0..1			Comment


Element:		HistoryObservation
Concept:		MTH#C2004062 "History of previous events"
Based on:		Observation
Description:	"Captures some aspect of the life, health, or medical history of a subject."
				Category is MTH#C2004062 "History of previous events"
1..1			Status with CodeableConcept from NonLabObservationStatusVS


Element:		ClinicalAssessment
Concept:		MTH#C0220825
Based on:		Action
Description:	"Systematic, objective appraisal of the significance, effectiveness, and impact of activities or condition according to specified objectives and criteria."
Value:			CodeableConcept or Finding
1..1			ActionTypeCode is type ObservationTypeCode  // what is being assessed, e.g. disease progression
0..1			Category with CodeableConcept from http://hl7.org/fhir/ValueSet/observation-category
0..1			Reason  // for the assessment
				NonOccurrenceModifier.Reason with CodeableConcept from ObservationNotMadeReasonVS
1..1			Status with CodeableConcept from http://hl7.org/fhir/ValueSet/clinical-impression-status
0..1			PreviousClinicalAssessment
0..1			Method    // TODO: for now, this will appear as an extension, but in FHIR, there is an attribute called 'protocol' that is a uri...it might require a change request
0..*			SupportingEvidence
0..*			ObservationQualifier
0..1			ClinicallyRelevantTime  // may not be the same as the OccurrenceTime
0..1			Summary
0..1			Comment


		Element:		PreviousClinicalAssessment
		Concept:		TBD
		Based on:		ClinicalAssessment
		Description:	"The clinical assessment happening before another clinical assessment."




//------------ Social Observation -----------------------

Element:		SocialHistory
Concept:		MTH#C3714536
Based on:		HistoryObservation
Description:	"The external elements and conditions which surround, influence, and affect the life and development of the subject. Includes social conditions such as poverty, violence, bullying."
1..1			Status with CodeableConcept from NonLabObservationStatusVS
				Category is OBSCAT#social-history "social history"

