Grammar:		DataElement 5.0
Namespace:		shr.base
Description:	"Contains the SHR Entry definition -- the metadata added to any independent item in the SHR."
Uses:			shr.core, shr.entity, shr.encounter

//---------- Actions --------------

Abstract Element:	ActionStatement
Based on:			InformationItem
Description:		"Abstract class representing any type of action."
0..1				Category // Might not need this
1..1				Patient   // constrain from 0..1 to 1..1 
0..1				Encounter // actions often take place during an encounter
0..*				Reason

		Element:		Reason
		Concept:		MTH#C0566251
		Description:	"The justification for an action or non-action, etc."
		Value:			string or CodeableConcept or ref(Finding)

Abstract Element:	ActionPerformed
Based on:			ActionStatement
Description:		"Abstract class representing performance of any type of action."
1..1				OccurrenceTimeOrPeriod  // when the action took place
0..*				Participation
1..1				Status // should be from http://hl7.org/fhir/ValueSet/event-status  DSTU 2 change (conflict in required data sets)
0..1				Method
0..1				RelatedRequest
//0..1				EnactsPlan
0..1				ref(Facility)
0..1				Outcome  // e.g., AdverseEvent

		Element:		Participation
		Concept:		TBD
		Description:	"Record of someone or something involvement in an activity."
		0..1			Participant
		0..1 			ParticipationType  // role
		0..1			ParticipationPeriod
		0..1			OnBehalfOf
		
			Element:		Participant
			Concept:		MTH#C1550369
			Description:	"An entity (usually a Practitioner, Patient, or Organization but potentially a device or other entity) that participates in a healthcare task or activity."
			Value:			ref(EntityOrRole)

			Element:		ParticipationType
			Concept:		MTH#C1553854
			Description:	"The role played by the participant engaged in the action, for example, as the attending physician, surgical assistant, etc."
			Value:			CodeableConcept from FHIR/v3-ParticipationType
			
			Element:		ParticipationPeriod
			Concept:		TBD
			Description:	"The point in time or span of time the participant is involved."
			Value:			TimePeriod
	
		Element:		Method
		Concept:		TBD
		Description:	"The technique used to carry out an action, for example, the specific imaging technical or assessment vehicle."
		Value:			CodeableConcept  // TODO: limit to a procedure code
		
		Element:		RelatedRequest
		Concept:		TBD
		Description:	"The proposal, order, or plan that is partly or wholly fulfilled by the performance of this act."
		Value:			ref(ActionRequested)
	
	/*	
		Element:		EnactsPlan
		Concept:		TBD
		Description:	"The plan that is partly or wholly enacted by the performance of this act."
		Value:			ref(ActionRequested)
*/

		Element:		Outcome
		Concept:		TBD
		Description:	"The result of performing an action or behavior, for example, an adverse reaction or new finding."
		Value:			CodeableConcept could be from http://hl7.org/fhir/ValueSet/procedure-outcome


Abstract Element:	ActionRequested
Based on:			ActionStatement
Description:		"Abstract class representing a request for any type of action."
1..1			Status //should be from http://hl7.org/fhir/ValueSet/request-status  // DSTU2 change (conflicting value sets)
1..1			RequestIntent
0..1			ExpectedPerformanceTime
0..1			ExpectedPerformerType
0..1			ExpectedPerformer
0..1			ExpectedMethod 
0..1 			PriorityRank //should be from http://hl7.org/fhir/ValueSet/request-priority  // DSTU2 change (conflicting value sets)
0..1			PerformerInstructions
0..1			PatientInstructions	
0..1			CommunicationMethod

		Element:		RequestIntent	
		Concept:		TBD
		Description:	"Indicates the level of authority/intentionality associated with the request and where the request fits into the workflow chain."
		Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/request-intent
		
		Element:		ExpectedPerformanceTime
		Concept:		TBD
		Description:	"When an action should be done. If the action is a series or recurs (e.g. daily blood sugar testing in the morning) then a Timing can be used to describe the periodicity."
		Value:			dateTime or date or TimePeriod or Timing

		Element:		ExpectedPerformerType
		Concept:		TBD
		Description:	"What type of party should carry out the testing."
		Value:			CodeableConcept // what ValueSet??

		Element:		ExpectedPerformer
		Concept:		TBD
		Description:	"Who should carry out the tests. For example, the patient or caregiver."
		Value:			ref(Entity) or ref(Organization)
		
		Element:		ExpectedMethod
		Concept:		TBD
		Description:	"The method that should be used to carry out the action."
		Value:			ref(Method)

		Element:		PerformerInstructions
		Concept:		TBD
		Description:	"Information for the performer of the test, if needed."
		Value:			string

		Element:		PatientInstructions
		Concept:		TBD
		Description:	"Information for the patient, such as, where to get the test, how to prepare for the test, etc."
		Value:			string
		
		Element:		CommunicationMethod
		Concept:		TBD
		Description:	"This is the method the provider used to communicate. Examples include: Written, Telephoned, Verbal, Electronically Entered, Policy, Service Correction, Duplicate, etc. 'Code indicating the origin of the prescription.' - NCPDP Telecommunication (Field 419-DJ, Data Dictionary 201104). Possible values include: Written; Telephone; Electronic; Facsimile; Pharmacy; Not Known."
		Value:			CodeableConcept


Abstract Element:	ActionNotPerformed
Based on:			ActionStatement
Description:		"Abstract class representing non-performance of any type of action."
0..1				RelatedRequest 
1..1				NonOccurrenceTimeOrPeriod

Abstract Element:	ActionRequestedAgainst
Based on:			ActionStatement
Description:		"Abstract class representing a request to not perform any type of action."

