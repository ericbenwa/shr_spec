Grammar:		DataElement 5.0
Namespace:		oncocore
Description:	"SHR implementation of ASCO requirements."
Uses:  			shr.core

CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:     LNC = http://loinc.org
CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     UCUM = http://unitsofmeasure.org

//---------- General definitions of Stage Group and Stage Classification ------

Abstract Element:  CancerStageGroup
Based on:       CodedNonLaboratoryObservation
Description:    "A panel that contains cancer staging information. This abstract class is the parent of panels containing information related to clinical and pathologic staging."
1..1            SubjectOfRecord is type PatientSubjectOfRecord
0..1            RelatedCancerCondition  // in R4, this can map to Observation.focus
0..1            Method is type CancerStagingSystem
                Performer is type PractitionerPerformer
0..0            Components
0..0		    BodySite
0..0            Device

Abstract Element:  CancerStageClassification
Based on:       SimpleCodedNonLaboratoryObservation
Description:    "Abstract parent class for members of cancer staging panels. Cancer panel members must include a timing element and staging system, and focus on a cancer disorder. Specific realizations will have value sets specific to certain staging systems."
                SubjectOfRecord is type PatientSubjectOfRecord
                Performer is type PractitionerPerformer
0..1            RelatedCancerCondition
1..1            CancerStageTiming 
0..1            Method is type CancerStagingSystem
0..0            BodySite
0..0            Device

//---------- TNM-Specific Definitions for Stage Group (Clinical and Pathologic) ------

EntryElement:   TNMClinicalStageGroup
Based on:       CancerStageGroup
Description:    "A panel of TNM staging classifications, based on information obtained prior to neoadjuvant treatment and surgery, e.g. based on evidence such as physical examination, imaging, and/or biopsy."
                Code is LNC#21908-9 "Stage group.clinical Cancer"
                DataValue from http://loinc.org/vs/LL240-3 
                Method from TNMTumorStagingSystemVS if covered
                PanelMembers.Observation
                    includes  0..1 TNMClinicalPrimaryTumorClassification
                    includes  0..1 TNMClinicalRegionalNodesClassification
                    includes  0..1 TNMClinicalDistantMetastasesClassification

EntryElement:   TNMPathologicStageGroup
Based on:       CancerStageGroup
Description:    "A panel of staging information that is based on examination of tissue samples removed during surgery, in addition to physical examination and imaging and potentially, other prognostic factors."
                Code is LNC#21902-2  "Stage group.pathology Cancer"
                DataValue from http://loinc.org/vs/LL234-6 if covered
                Method from TNMTumorStagingSystemVS if covered 
                PanelMembers.Observation
                    includes  0..1 TNMPathologicPrimaryTumorClassification
                    includes  0..1 TNMPathologicRegionalNodesClassification
                    includes  0..1 TNMPathologicDistantMetastasesClassification

//---------- TNM-Specific Definitions for Classification (Clinical and Pathologic) ------

EntryElement:   TNMClinicalPrimaryTumorClassification
Based on:       CancerStageClassification
Description:    "Classification of the primary tumor, based on its size and extent, assessed prior to surgery, based on evidence such as physical examination, imaging, and/or biopsy."
                Code is LNC#21905-5 "Primary tumor.clinical [Class] Cancer"
                DataValue from http://loinc.org/vs/LL237-9 // normative answer list for LNC#21905-5
                CancerStageTiming is SCT#385349001 "Clinical stage (observable entity)"

EntryElement: 	TNMClinicalRegionalNodesClassification
Based on:		CancerStageClassification
Description:    "Classification of the presence or absence of metastases in regional lymph nodes, assessed using tests that are done before surgery. These include physical exams, imaging tests, laboratory tests (such as blood tests), and biopsies. (adapted from NCI Dictionary of Cancer Terms)"
                Code is LNC#21906-3 "Regional lymph nodes.clinical [Class] Cancer"
                DataValue from http://loinc.org/vs/LL238-7 // normative answer list for LNC#21906-3
                CancerStageTiming is SCT#385349001 "Clinical stage (observable entity)"

EntryElement:   TNMClinicalDistantMetastasesClassification
Based on:		CancerStageClassification
Description:    "Classification of the presence or absense of metastases in remote anatomical locations, assessed using tests that are done before surgery. These include physical exams, imaging tests, laboratory tests (such as blood tests), and biopsies. (adapted from NCI Dictionary of Cancer Terms)" 
                Code is LNC#21907-1 "Distant metastases.clinical [Class] Cancer"
                DataValue from http://loinc.org/vs/LL239-5 // normative answer list for LNC#21907-1
                CancerStageTiming is SCT#385349001 "Clinical stage (observable entity)"

EntryElement:   TNMPathologicPrimaryTumorClassification
Based on:		CancerStageClassification
Description:    "Classification of the primary tumor, based on its size and extent, assessed through pathologic analysis of a tumor specimen."
                Code is LNC#21899-0 "Primary tumor.pathology Cancer"
                DataValue from http://loinc.org/vs/LL232-0 
                CancerStageTiming is SCT#405978005 "Pathologic stage (observable entity)" 

EntryElement: 	TNMPathologicRegionalNodesClassification
Based on:		CancerStageClassification
Description:    "Classification of the presence or absence of metastases in regional lymph nodes, assessed through pathologic analysis of a specimen."
                Code is LNC#21900-6 "Regional lymph nodes.pathology [Class] Cancer"
                DataValue from http://loinc.org/vs/LL3136-0 
                CancerStageTiming is SCT#405978005 "Pathologic stage (observable entity)" 

EntryElement:   TNMPathologicDistantMetastasesClassification
Based on:		CancerStageClassification
Description:    "Classification of the presence or absense of metastases in remote anatomical locations, assessed through pathologic analysis of a specimen."
                Code is LNC#21901-4 "Distant metastases.pathology [Class] Cancer"
                DataValue from http://loinc.org/vs/LL3137-8 
                CancerStageTiming is SCT#405978005 "Pathologic stage (observable entity)"

//------------- Elements needed in above definitions ---------

Element:        CancerStageTiming 
Description:	"Indicates when staging was done, in terms of treatment landmarks."
Value:          CodeableConcept from CancerStageTimingVS if covered

Element:        CancerStageSuffix
Description:    "A suffix used in conjuction with certain cancer stage categories, usually qualifying how the category value was determined."
Value:          CodeableConcept //from CancerStageSuffixVS  VS only includes terms applicable to BrCa.

Element:        CancerStagingSystem
Based on:       Method
Description:    "Method of Staging (attribute) -  SCT#260713006"
Value:          CodeableConcept from CancerStagingSystemVS if covered