Grammar:		DataElement 5.0
Namespace:		odh
Description:	"Patient’s or family member's work information."
Uses:  			shr.core, shr.base, cimi.core,  cimi.topic, cimi.statement, cimi.composition, cimi.entity, cimi.element, cimi.encounter, cimi.datatypes

CodeSystem:     LNC = http://loinc.org
CodeSystem:     UCUM = http://unitsofmeasure.org 
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category
CodeSystem:		V2 = http://hl7.org/fhir/v2/0131

Element:		SocialHistoryComposition
Based on:		Composition
Description:	"A composition represents a document such as a patient record, a knowledge artifact, or a catalog definition."
	          	Section is type SocialHistorySection

    Element:        SocialHistorySection
    Based on:       Section
    Description:    "Represents a section containing entries in a social history composition."
					ClinicalStatement is type SocialHistoryObservation

EntryElement:	OccupationalDataForHealth
Concept:		LNC#74166-0
Based on:		SocialHistoryComposition 
Description:	"Current and past activities for profit, wages, salary, or as a service to others."
1..1			SocialHistorySection is type OccupationalDataSection

Element:		OccupationalDataSection
Concept:		TBD
Based on:		SocialHistorySection
Description:	"Single section in the current OccupationalDataSummary, containing the person's history of employment and occupation, past and present."
				ClinicalStatement 
includes 0..*   PersonEmploymentStatus
includes 0..*	RetirementDate
includes 0..*	CombatZonePeriod 
includes 0..1	UsualWork
includes 0..*	PastOrPresentJob

EntryElement:	PersonEmploymentStatus
Based on:		CodedSocialHistoryObservation
Concept:		LNC#74165-2 "HistoryOfEmploymentStatus"
Description:	"The self-reported current and historical data about a person's economic relationship to work (e.g. having one or more jobs), including start and end dates.
A person's Employment Status could change over time, for example, a person could be employed following a period of choosing to not be in the labor force.
Outside of ODH, the employment arrangement between an employer and a person (one job) has sometimes been referred to as a person's 'employment status.' However, in ODH Employment Status is used to characterize a person, Work Classification is used to characterize a job, and Retirement Date is used to characterize a person as retired."
				TopicCode is LNC#74165-2 "HistoryOfEmploymentStatus"
				ResultValue value is type CodeableConcept
//				ResultValue from EmploymentStatusVS
				ResultValue from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7129
0..0			EvaluationComponent
0..0			FocalSubjectModifier

EntryElement:	RetirementDate
Based on:		SocialHistoryObservation
Concept:		LNC#87510-4 "Date of Retirement"
Description:	"A self-reported date that a person considers themselves to have ‘retired’.
A person can be both retired and employed (an Employment Status); most often, a person would be retired from one job and employed in another job. A person also can have more than one retirement date; for example, a person could retire from military service, then later retire from a civilian job.
Outside of ODH, a characterization of the employment arrangement between an employer and a person (one job) has sometimes been referred to as a person's 'employment status' and might include values such as 'retired.' However, in ODH Employment Status is used to characterize a person's relationship to working (e.g., employed, unemployed) and Retirement Date is used to characterize whether or not a person self-identifies as retired. For example, a person could be 'employed' (Employment Status) and have retired from a previous job (recorded at the Person level as a Retirement Date)."
				TopicCode is LNC#87510-4 "Date of Retirement"
				ResultValue value is type dateTime
0..0			EvaluationComponent
0..0			RelevantTime // The result value contains the date of retirement, so having a relevant time would be redundant.
0..0			FocalSubjectModifier

EntryElement:	CombatZonePeriod
Based on:		SocialHistoryObservation
Concept:		LNC#87511-2
Description:	"Self-reported date range(s) when a person worked in what is considered a combat zone; sometimes called a hazardous duty work.
Both civilian workers, such as Department of Defense contractors, and military service members could have worked in combat zones."
				TopicCode is LNC#87511-2
				ResultValue value is type TimePeriod
0..0			EvaluationComponent
0..0			RelevantTime // The result value contains the time period of combat zone activity, so the relevant time would be redundant.
0..0			FocalSubjectModifier // only patient

EntryElement:	UsualWork
Based on:		CodedSocialHistoryObservation
Concept:		LNC#21843-8
Description:	"Related data elements about the work a person reports having performed for the longest amount of time during his or her life, regardless of the person's current job and regardless of whether or not the person performed this work for a continuous time.
Knowledge of person's Usual Work can potentially assist in diagnosis, treatment and/or prevention of chronic condition(s) or conditions with a long latency. The potential for exposure to Occupational Hazard(s) related to an Occupation and/or an Industry can change over time, and a person could have been in and out of their Usual Work over time, so additional data are helpful to fully evaluate the possible impact of the person's Usual Work on their health and guide appropriate use of screening tests to detect early disease.
Example: a person has worked for a total of 30 years as a 'secretary' (Occupation), but in various industries, mostly hotel construction. Her Usual Occupation is 'secretary' and her Usual Industry is 'hotel construction.'
Usual Work does not include work that was unpaid or voluntary."
				TopicCode is LNC#21843-8
//				ResultValue from OccupationVS
				ResultValue from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7186		
				EvaluationComponent
includes 1..1 	UsualIndustry 
includes 0..1	UsualOccupationDuration 
1..1			RelevantTime 
				RelevantTime value is type TimePeriod

	Element:		UsualIndustry
	Based on:		CodedEvaluationComponent
	Concept:		LNC#21844-6 "History of Usual industry"
	Description:	"The industry (type of business) which the subject has worked in for the longest duration while in the usual occupation.
	For example, a person who has spent 30 years as a secretary in various industries, but mostly in construction, would record a usual occupation of secretary and a usual industry of construction."  // "A history of this observation is not retained.   Actually past versions of the observation could be retained, but the panel should refer to the latest one only.
	//Value:			CodeableConcept from IndustryVS 
	Value:			CodeableConcept from 
	https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7187
					TopicCode is LNC#21844-6 "History of Usual industry"

	Element:		UsualOccupationDuration
	Based on:		EvaluationComponent
	Concept:		LNC#74163-7 "Usual occupation duration"
	Description:	"The total time spent on an activity, inclusive of all time intervals, whether continuous or interrupted."
	Value:			Quantity with units UCUM#a
					TopicCode is LNC#74163-7 "Usual occupation duration"
	
EntryElement:	PastOrPresentJob
Based on:		CodedSocialHistoryObservation
Concept:		LNC#11341-5 "History of Occupation"
Description:	"Related data elements for a current or previous job, as reported by the person, i.e., a work situation or position held for a specified time period.
A person can have more than one job at the same time and multiple jobs over time, so the data related to each job must remain in the record in perpetuity. 
A person's job can be a social determinant of their health and information about a person's job can support patient care, population health, and public health. In patient care, knowledge of a person's past or present job(s) can impact recognition, diagnosis, management, and treatment of injuries and illnesses. These data also can be used for clinical decision support and to prompt discussion of preventive care measures. For example, a record of jobs that require prolonged time in the sun might prompt a health care provider to inquire if the person wears protective clothing or sunscreen while working. 
At a minimum, it is important to have a record of a person's current job(s); i.e., the job(s) in which a person is engaged at the time that he or she presents to a health care provider, regardless of duration, and to retain that information over time. In the event a person recently stopped working (e.g. retired without another job, became unemployed or disabled and unable to work), the most recent job(s) is used instead of the current job(s)."
				TopicCode is LNC#11341-5 "History of Occupation"
//				ResultValue from OccupationVS
				ResultValue from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7186
0..1			Employer // must be extension; cannot be a result value or an evaluation component because the value is a reference to Person or Organization
				EvaluationComponent
includes 0..1	PastOrPresentIndustry
includes 0..1	WorkClassification
includes 0..1	SupervisoryLevel
includes 0..*	JobDuty
includes 0..*	OccupationalHazard
includes 0..1	WorkSchedule
includes 0..1	WeeklyWorkDays
includes 0..1	DailyWorkHours
includes 0..1	IsCurrentJob
1..1			RelevantTime 
				RelevantTime value is type TimePeriod

// Question -- organization only, or person or organization
	Element:		Employer
	Based on:		Role
	Concept:		SCT#394571004 "Employer (person)"
	Description:	"A person or organization that hires the services of another."
	Value:			ref(EmployerPerson) or ref(EmployerOrganization)

		Element:		EmployerPerson
		Description:	"A related person who is an employer"
		1..1			RelationshipToPersonOfRecord is V2#E

		Element:		EmployerOrganization
		Description:	"An Organization as defined in FHIR"

	Element:		PastOrPresentIndustry
	Based on:		CodedEvaluationComponent
	Concept:		LNC#86188-0 	
	Description:	"The type of business (industry) in which the subject currently holds or has held a job in the past." 
//	Value:			CodeableConcept from IndustryVS 
	Value:			CodeableConcept from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7187
					TopicCode is LNC#86188-0

	Element:		WorkClassification
	Based on:		CodedEvaluationComponent
	Concept:		LNC#85104-8 "Compensation and sector employment type"
	Description:	"Employment attributes for a given job. 
	This specifies information about the worker’s job, such as self-employed or unpaid, and is similar to the U.S. Bureau of Labor Statistics ‘class of worker’ and the International Labor Organization ‘classification of status in employment’. Knowing a patient is self-employed, for example, can assist in discussing return-to-work options."
	//Value:			CodeableConcept from WorkClassificationVS  
	Value:			CodeableConcept from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7597 
					TopicCode is LNC#85104-8 "Compensation and sector employment type"

	Element:		SupervisoryLevel
	Based on:		CodedEvaluationComponent
	Concept:		LNC#87707-6
	Description:	"The supervisory or management responsibilities for an individual’s job. For military jobs, this is pay grade."
	//Value:			CodeableConcept from SupervisoryLevelVS 
	Value:			CodeableConcept from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7613	 
					TopicCode is LNC#87707-6

	Element:		JobDuty
	Based on:		EvaluationComponent
	Concept:		LNC#63761-1
	Description:	"Regular actions performed at work. A person may have the occupation of 'construction laborer' and his specific job duty to carry construction supplies."
	Value:			string
	0..0			ReferenceRange
					TopicCode is LNC#63761-1
	
	Element:		OccupationalHazard
	Based on:		EvaluationComponent
	Concept:		LNC#87729-0
	Description:	"Actual contact or interaction with a specific hazard that increases an individual’s risk of a detrimental physical or mental health outcome (e.g., ingestion or inhalation of a toxic chemical). 
	Information on an exposure may include the measurement of duration/intensity of contact or interaction with the specific hazard."
	Value:			string
	0..0			ReferenceRange
					TopicCode is LNC#87729-0
					
	Element:		WorkSchedule
	Based on:		CodedEvaluationComponent
	Concept:		LNC#74159-5
	Description:	"An individual's typical arrangement of working hours for an occupation. 
	For example, work schedule may capture that an individual typically works a regular day shift, evening shift, or night shift. It can also specify if an individual has another type of schedule, such as a rotating shift, split shift, etc."
	//Value:			CodeableConcept from WorkScheduleVS 
	Value:			CodeableConcept from https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7130
					TopicCode is LNC#74159-5

	Element:		WeeklyWorkDays
	Based on:		EvaluationComponent
	Concept:		LNC#74160-3
	Description:	"The typical number of days per week that a person spends performing their duties for work. 
	This information is most useful coupled with daily work hours and helps to reveal compressed schedules or a 7-day work-week."
	Value:			Quantity with units UCUM#d
	0..0			ReferenceRange
							
	Element:		DailyWorkHours
	Based on:		EvaluationComponent
	Concept:		LNC#87512-0
	Description:	"The typical number of hours in a day that a person spends performing their duties for work.
	This information is most useful coupled with weekly work days and helps to reveal compressed schedules, long work hours, and overtime."
	Value:			Quantity with units UCUM#h
	0..0			ReferenceRange
					TopicCode is LNC#87512-0

// Last minute addition 8/17 based on Genny's comment 
	Element:		IsCurrentJob
	Based on:		CodedEvaluationComponent
	Description:	"A true/false flag indicating if this is the person's current job (at the time the resource was last updated)."
	Value:			boolean
	
Element:		SocialHistoryObservation
Based on:		Observation
Description:	"A simplified observation for social histories."
				Category is OBSCAT#social-history
0..1			FocalSubjectModifier
// Get rid of some unnecessary CIMI-isms
0..0			Recorded
0..0			Signed
0..0			ContextCode
//0..0			SourceOfInformation 
0..0			FindingMethod
0..0			AnatomicalLocation
0..0			Precondition
0..0			ReferenceRange
0..0			PanelMembers
0..0			Device
0..0			Specimen
0..0			Media
0..0			ExceptionValue
0..0			Interpretation
0..0			Encounter
0..0			DeltaFlag
0..0			AdditionalText
//0..0			FindingStatus

	Element:		FocalSubjectModifier
	Description:	"The focus of the observation, if someone other than the person of record (subject), identified only by the relationship to the PersonOfRecord."
	Value:			RelationshipToPersonOfRecord from http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype if covered


Element:		CodedSocialHistoryObservation
Based on:		SocialHistoryObservation
Description:	"The result of social history questions, whose answer is expressed as a code."
				ResultValue value is type CodeableConcept



	
/* UsualWork is in the value element
	Element:		UsualWork
	Based on:		CodedEvaluationComponent
	Concept:		LNC#21843-8 "History of Usual Occupation" // Occupation is LNC#74287-4
	Description:	"A person's work or business"
	Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/occupation-cdc-census-2010	// VS defined in FHIR 3.2 and not found in 3.0.1

EntryElement:	MilitaryServiceHistory
Based on:		CodedSocialHistoryObservation
Description:	"History of service in the US military."
				Category is OBSCAT#social-history
				TopicCode is MTH#C3714797
				EvaluationComponent
includes 1..1	MilitaryStatus
includes 0..1 	MilitaryServiceDischargeStatus
includes 0..1	MilitaryBranch
includes 0..*	MilitaryServiceEra
includes 0..1	ServiceConnectedDisability
//includes 0..1	TBD "MilitaryRank"


	Element:		MilitaryStatus
	Concept:		MTH#C1550416
	Based on:		CodedEvaluationComponent
	Description:	"The current connection to the US military."
	Value:			CodeableConcept from MilitaryStatusVS

	Element:		MilitaryServiceDischargeStatus
	Concept:		TBD
	Based on:		CodedEvaluationComponent
	Description:	"How the subject was formally discharged from the US Military."
	Value:			CodeableConcept from MilitaryServiceDischargeStatusVS

	Element:		MilitaryBranch
	Concept:		MTH#C2129058
	Based on:		CodedEvaluationComponent
	Description:	"The branch of the US military that the subject has served."
	Value:			CodeableConcept from USMilitaryBranchVS

	Element:		MilitaryServiceEra
	Concept:		TBD
	Based on:		CodedEvaluationComponent
	Description:	"The time period of US military service."
	Value:			CodeableConcept from MilitaryServiceEraVS

	Element:		ServiceConnectedDisability
	Based on:		EvaluationComponent
	Concept:		TBD
	Description:	"Percentage disability resulting from US Military Service."
	Value:			Quantity with units UCUM#%
	0..0			ReferenceRange


*/


