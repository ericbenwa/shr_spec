Grammar:		DataElement 5.0
Namespace:		shr.core

EntryElement:   Questionnaire
Based on:       DomainResource
Description:    "A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection."
//              Identifier maps to identifier
0..1 		      	Url
0..1            VersionString
0..1            NameAsText
0..1            Title
1..1            Status from http://hl7.org/fhir/ValueSet/publication-status
0..1            IsExperimental
0..*            SubjectType
0..1            LastUpdated
0..1            PublisherName
0..*            ContactDetail
0..1            DescriptionMarkdown
0..*            Jurisdiction
0..1            PurposeMarkdown
0..1            Copyright
0..1            LastReviewedDate
0..1            ApprovalDate
0..1            EffectiveTimePeriod
0..*            Code could be from http://hl7.org/fhir/ValueSet/questionnaire-questions
0..*            QuestionnaireItem

    Element:		IsExperimental						
    Description:	"A Boolean value to indicate that the item is for testing purposes (or education/evaluation/marketing) and is not intended to be used for genuine usage."
    Value:			boolean			

    Element:     SubjectType
    Description: "Resource that can be subject of QuestionnaireResponse"
    Value:      CodeableConcept from http://hl7.org/fhir/ValueSet/resource-types

    Element:		PublisherName
    Description:	"The name of the organization or individual that published this item."
    Value:			string

    Element:    DescriptionMarkdown
    Description:  "A description of the purpose of the item." 
    Value:      markdown

    Element:    PurposeMarkdown
    Description:  "A description of the purpose of the item." 
    Value:      markdown

    Element:    Copyright
    Description:  "A rights statement relating legal restrictions on the use and publishing of the item." 
    Value:      markdown

    Element: 		LastReviewedDate
    Description:	"The most recent date the item was reviewed."
    Value:			date

    Element: 		ApprovalDate
    Description:	"The date on which the item was officiallly deemed acceptable by the publisher."
    Value:			date

    Element:    QuestionnaireItem
    Description:  "Questions and sections within the Questionnaire."
    1..1        IdentifierString
    0..1        DetailsLink
    0..*        Code could be from http://hl7.org/fhir/ValueSet/questionnaire-questions
    0..1        Prefix
    0..1        Question
    1..1        Type from http://hl7.org/fhir/ValueSet/item-type
    0..*        EnableWhen
    0..1        IsRequired
    0..1        MayRepeat
    0..1        IsReadOnly
    0..1        MaxTextLength
//    0..1        AnswerValueSet 
    0..*        AnswerOption
    0..*        PrepopulateValue
    0..*        QuestionnaireItem

      Element: 		DetailsLink
      Description:	"The date on which the item was officiallly deemed acceptable by the publisher."
      Value:			uri

      Element:    Question
      Description:  "The text of the question."
      Value:      string

      Element:    IsRequired
      Description:  "An indication, if true, that the item may occur multiple times in the response, collecting multiple answers answers for questions or multiple sets of answers for groups."
      Value:      boolean

      Element:    MayRepeat
      Description:  "An indication, if true, that the item may occur multiple times in the response, collecting multiple answers answers for questions or multiple sets of answers for groups."
      Value:      boolean

      Element:    IsReadOnly
      Description:  "An indication, when true, that the value cannot be changed by a human respondent to the Questionnaire."
      Value:      boolean

      Element:  MaxTextLength
      Description:  "The maximum number of characters that are permitted in a text field."
      Value: integer

/*      Element:   AnswerValueSet
      Description:  "Valueset containing permitted answers."
      Value:    ref(ValueSet) */

      Element:  AnswerOption
      Description:  "One of the permitted answers for a 'choice' or 'open-choice' question."
      Value:    integer or date or time or string or Coding or ref(DomainResource)

      Element:  PrepopulateValue
      Description:  "One or more values that should be pre-populated in the answer when initially rendering the questionnaire for user input."
      Value:    boolean or decimal or integer or date or dateTime or time or string or uri or Media or Coding or Quantity or ref(DomainResource)  

      Element:  EnableWhen
      Description:  "A constraint indicating that this item should only be enabled (displayed/allow answers to be captured) when the specified condition is true."
      1..1      Question
      0..1      HasAnswer
      0..1      Answer

        Element:    HasAnswer
        Description:  "An indication that this item should be enabled only if the specified question is answered (hasAnswer=true) or not answered (hasAnswer=false)."
        Value:      boolean

        Element:  Answer
        Description:  "The answer to a question."
        Value:    boolean or decimal or integer or date or dateTime or time or string or uri or Media or Coding or Quantity or ref(DomainResource)

//EntryElement:   ValueSet
