Grammar:		DataElement 5.0
Namespace:		shr.finding
Description:	"The SHR Finding domain contains basic definitions used to capture subjective and objective information about the subject. Things observed about the subject can include demographic facts, history, subjective and objective observations, assessments, and judgments, excluding actual or potential interventions, and range from simple answered questions to vital signs and laboratory results."
Uses:			shr.core, shr.base, shr.action, shr.entity, shr.procedure, shr.medication, shr.condition, shr.device

CodeSystem:     SCT = http://snomed.info/sct

//-------------- FINDING Base Class ------------------------	

Abstract Element: Finding
Based on:		Content
Concept:		TBD
Description:	"Base class for assertions and observations about a patient. The subject of a finding can be the entire patient, or an entity such as a location body structure, intervention, or condition. Things observed about the subject can include social and behavioral factors, subjective and objective observations, and assessments."
0..1			Subject
0..1			ExtendedSubject
0..1			FindingMethod
0..1			FindingStatus
0..*			Evidence
	
	Element:		Interpretation
	Concept:		MTH#C0420833
	Description:	"A clinical interpretation of a finding."
	Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/observation-interpretation
		
	Element:		FindingMethod
	Concept:		TBD
	Description:	"The technique used to create the finding, for example, the specific imaging technical or assessment vehicle."
	Value:			string or CodeableConcept or ref(ProcedurePerformed)

	Element:		FindingStatus
	Concept:		TBD
	Description:	"Indicates whether the finding is preliminary, amended, final, etc.."
	Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/observation-status

	Element:		Evidence
	Concept:		TBD
	Description:	"A symptom, observation, or other item, for example, a radiology report, that serves as evidence for the current assessment."
	Value:			CodeableConcept or ref(Content)




		
	
/*	
Abstract Element:	ConditionPresent
Based on:			Finding
Concept:			MTH#C0220825
Description:		"A finding (preliminary or final) that establishes the presence of a condition, allergy, risk, or other situation of concern that require additional details. This type of finding typically results from synthesis of evidence in the form of one or more observations. Although similar in structure to a Assertion, the Assertion is typically NOT used to record information about subjective and objective information, but to describe a continuing situation that has risen to a level of concern and needs to be tracked over time."
Value:				CodeableConcept
1..1				AssertionContext

		Element:	AssertionContext
		Concept:	TBD
		Description:	"Whether the assertion is that the condition is present, absent, or undetermined."
		Value:		CodeableConcept from AssertionContextVS

EntryElement:	SituationPresentOrSuspected
Based on:		ConditionAssert
Concept:		TBD
Description:	"A finding that establishes the existence of a persistent health state (body structure, condition, allergy, risk, etc.)."


EntryElement:	SituationAbsentOrNotSuspected
Based on:		ConditionAssert
Concept:		MTH#C1276745 "Clinical Finding Absent"
Description:	"A finding that establishes the absence of a persistent health state (body structure, condition, allergy, risk, etc.) at a certain time."
*/

//-----------Other major branch of Finding---------

EntryElement:	Observation
Based on:		Finding
Concept:		MTH#C1554188
Description:	"Parent class for subjective or objective findings about a subject. An observation includes direct results of seeing, measuring, or evaluating. The method of observing can vary widely, and include measurement, direct questioning, physical examination, laboratory tests, and imaging procedures. Patient-generated data are also considered observations."
Value:			0..1 (Quantity or CodeableConcept or string or boolean or Range or Ratio or Attachment or time or dateTime or TimePeriod or IntegerQuantity)
1..1			ObservationCode
0..1			ValueAbsentReason
0..1			ClinicallyRelevantTime
1..1			FindingStatus  // constrain from 0..1 to 1..1 to match FHIR
0..*			Category from http://hl7.org/fhir/ValueSet/observation-category if covered
0..1			BodySite
0..1			ref(Specimen)
0..1			ref(Device)
0..*			ReferenceRange  // applies to a quantitative measurement only
0..1			ChangeFlag
0..1			Interpretation
0..*			ObservationQualifier   //  = CIMI's Precondition
0..1			Components 

		Element:		ObservationCode
		Concept:		MTH#C1706203
		Description:	"A code that represents what the finding concerns, for example, the subject's height, blood pressure, disease status, wound dimensions, diabetes risk, etc. Although named ObservationCode, in different contexts the same attribute might be more naturally referred to as a property, observable, or test code. In assertions (observations without an explicit question), the observation code is defaulted to a value representing 'assertion'."
		Value:			CodeableConcept 
		
		Element:		ValueAbsentReason
		Concept:		MTH#C1709044]
		Description:	"Provides a reason why the value of the observation is missing, if it is expected (some observations are not expected to have a value)."
		Value:			CodeableConcept from ValueAbsentReasonVS
		
		Element:		ClinicallyRelevantTime
		Concept:		TBD
		Description:	"The time or time period that the finding addresses. The clinically relevant time is not necessarily when the information is gathered or when a test is carried out, but for example, when a specimen was collected, or the time period referred to by the question. Use a TimePeriod for a measurement or specimen collection continued over a significant period of time (e.g. 24 hour Urine Sodium)."
		Value:			dateTime or TimePeriod or Timing
		
		Element:		ChangeFlag
		Concept:		MTH#C1705241
		Description:	"Indicator of significant change (delta) from the last or previous measurement."
		Value:			CodeableConcept from ChangeFlagVS

		Element:		ObservationQualifier
		Concept:		MTH#C1443279
		Description:	"A description of the conditions or context of an observation, for example, under sedation, fasting or post-exercise. Body position and body site are also qualifiers, but handled separately. A qualifier cannot modify the measurement type; for example, a fasting blood sugar is still a blood sugar."
		Value:			CodeableConcept
		
		Element:		ReferenceRange
		Concept:		MTH#C0883335
		Description:	"The usual or acceptable range for a test result."
		Value:			Range   // TODO: align this with FHIR
		0..1			Type from http://hl7.org/fhir/ValueSet/referencerange-meaning if covered
		0..1			ApplicableSubpopulation
		0..1			ApplicableAgeRange
		
				Element:	ApplicableSubpopulation
				Concept:	MTH#C0039309 "Target Population"
				Description:	"Codes to indicate the target population this reference range applies to. For example, a reference range may be based on the normal population or a particular sex or race."
				Value: 		CodeableConcept from http://hl7.org/fhir/ValueSet/referencerange-appliesto if covered
		
				Element:	ApplicableAgeRange
				Concept:	TBD
				Description:	"The age at which this reference range is applicable. This is a neonatal age (e.g. number of weeks at term) if the meaning says so."  // FHIR: how exactly does one indicate a neonatal or prenatal age?
				Value:		Range
		
		
		Element:		Components
		Concept:		TBD
		Description:	"Components are parts of the parent observation. Component observations share the same attributes (such as Specimen) as the primary observation and are not separable. However, the reference range may be different for each component observation."
		Value:			0..* ObservationComponent
		
			Element:		ObservationComponent
			Description:	"A simplified, non-separable observation consisting of a observation code, value (or value absent reason), reference range, and interpretation. The subject of the observation component is the same as in the parent observation."
			Value:			0..1 (Quantity or CodeableConcept or string or Range or Ratio or Attachment or time or dateTime or TimePeriod or IntegerQuantity)
			0..1			ValueAbsentReason
			1..1			ObservationCode   // FHIR requires a code in each ObservationComponent, so it can't be a simple assertion
			0..1			Interpretation
			0..*			ReferenceRange
			0..1			Components
					

		
//------- Simplified and Specialized Observations
		
EntryElement:	Assertion
Based on:		Observation
Concept:		TBD
Description:	"A unary observation, also known as an assertion, is an observation that takes the form of a single code, without an explicit question or property. Examples include reported symptoms such as 'chest pain' and simple reports such as 'bed in low position'. Assertions may be negated using the NegationFlag; if true, the assertion is taken as false. The question code is defaulted to 'assertion' since an assertion has no explicit question. Assertions may include a body site. "
Value:			CodeableConcept
				ObservationCode is SCT#385432009 "Not applicable"
0..0			ValueAbsentReason // no sense in allowing an assertion that isn't there			
0..0			ref(Specimen)
0..0			ref(Device)
0..0			ReferenceRange
0..1			NegationFlag

		Element:	NegationFlag
		Concept:	MTH#C1518422
		Description:	"A flag that indicates the meaning to be conveyed is the logical opposite of the current assertion. The assertion is negated only when the NegationIndicator is true. If absent or false, the assertion is not negated."
		Value:		boolean

EntryElement:	QuestionAnswer
Based on:		Observation
Description:	"A question-answer or property-value pair, regarding a subject (aka an object-attribute-value triple). A QuestionAnswer is a simplified observation that does not involve a specimen, device, or reference range."
0..0			ref(Specimen)
0..0			ref(Device)
0..0			ReferenceRange



EntryElement:	Panel
Concept:		TBD
Based on:		InformationItem
Description:	"A grouped set of related findings, frequently captured at the same time. An example is a complete blood count (CBC), with separate observations for hemoglobin, hematocrit, etc. Could represent the content of a diagnostic report, such as a pathology report. Typically the Category and Reason are not given for individual findings that are part of the panel, but rather given at the level of the panel itself. The panel and all its sub-observations share the same metadata (provenance)."
0..1			PanelCode
1..1			Members

		Element:		PanelCode
		Concept:		TBD
		Description:	"A code that represents the panel."
		Value:			CodeableConcept

		Element:		Members
		Concept:		TBD
		Description:	"Members represent the elements of a group of a related observations. Examples are the measurements that compose a complete blood count (CBC), or the elements of a pathology report. Each member is an independent observation, but the grouping reflects a composite lab order, shared specimen, or a single report author."
		Value:			0..* ref(Finding)				

// not sure where this is used
Element:		RelatedFinding
Concept:		TBD
Description:	"Findings associated with this item." 
Value:			ref(Finding)
	
		/* Orphans
		Element:		ServiceCategory
		Concept:		TBD
		Description:	"A code that classifies the clinical discipline, department or diagnostic service that created the report (e.g. cardiology, biochemistry, hematology, MRI). This is used for searching, sorting and display purposes."
		Value:			CodeableConcept

		Element:		ReportStatus
		Concept:		TBD
		Description:	"The status of the report associated with this panel."
		Value:			code from http://hl7.org/fhir/ValueSet/diagnostic-report-status
		*/
