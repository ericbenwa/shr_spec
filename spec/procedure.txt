Grammar:	DataElement 5.0
Namespace:	procedure
Description:		"The SHR Lab domain contains definitions related to laboratory measurements, specifically measurements involving specimens."
Uses:				shr.core, shr.base, finding, action, entity, device, research

CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category

//---------- Procedures ----------------

Element:		ProcedureTopic
Based on:		ActionTopic
Concept:		TBD
Description:	"Description of a healthcare procedure, independent of action context. This can be a physical intervention like an operation, or less invasive like counseling or hypnotherapy."
1..1			TopicCode from http://hl7.org/fhir/us/core/ValueSet/us-core-procedure-code if covered
1..1			Subject value is type ref(Patient)
0..*			BodySite
0..1			AssociatedStudy
0..1			PartOfProcedure
0..1			Category  // this is a constraint on the cardinality of Action.Category
0..*			Annotation

		Element:	 	PartOfProcedure
		Concept:		TBD
		Description:	"The larger (parent) procedure this is part of."
		Value:			ref(ProcedurePerformed)

		Element:		AssociatedStudy
		Concept:		TBD
		Description:	"The clinical trial or other formal study related to this procedure."
		Value:			ref(Study)


Element:		LaboratoryProcedureTopic
Based on:		ProcedureTopic
Concept:		MTH#C0456984
Description:	"A procedure performed on a collected specimen such as a blood panel or a biopsy."
1..1			TopicCode from http://hl7.org/fhir/ValueSet/observation-codes
				Category is OBSCAT#laboratory

				
Element:		ProcedurePerformedContext
Based on:		PerformedContext
Description:	"The performed context with constraints applicable to procedures."
				Participant.OnBehalfOf value is type ref(Organization)
				Status must be from http://hl7.org/fhir/ValueSet/event-status
				Participant.Entity is type ref(Practitioner)
	
				
EntryElement:	ProcedurePerformed
Based on:		ProcedureTopic
1..1			ProcedurePerformedContext
					
EntryElement:	ProcedureNotPerformed
Based on:		ProcedureTopic
1..1			NotPerformedContext
0..1			NotPerformedContext.Reason  // limit to 0..1 to match FHIR Procedure.notDoneReason	

EntryElement:	LaboratoryProcedurePerformed
Based on:		LaboratoryProcedureTopic
1..1			ProcedurePerformedContext


