Grammar:		DataElement 5.0
Namespace:		mcode
Description:	"SHR implementation of ASCO requirements."
Uses:  			shr.core, shr.base, shr.entity, shr.medication, shr.composition, shr.procedure

CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:     LNC = http://loinc.org
CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     UCUM = http://unitsofmeasure.org
CodeSystem:		CAP = https://sdt.cap.org
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category
CodeSystem:  	RXN = http://www.nlm.nih.gov/research/umls/rxnorm


EntryElement:   MedicationTreatmentPerformed
Based on:       MedicationStatement  // the therapy itself could be a procedure. 
Description:    "A medication that is part of a drug treatment regimen"
Concept:        SCT#416608005 "Drug therapy (procedure)"  
//              SpecificFocusOfFinding value is type TreatmentRegimen
                0..1    TreatmentIntent
                0..1    LineOfTherapy
                0..1    RegimenIdentifier
                0..1    RegimenName
                0..1    RegimenStartDate
                0..1    RegimenStopDate

EntryElement:   RadiationTreatmentPerformed
Based on:       ProcedurePerformed
Description:    "A medication that is part of a radiation oncology related regimen"
Concept:        SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"  
//              SpecificFocusOfFinding value is type TreatmentRegimen
                TopicCode from RadiationModalityVS if covered 
                0..1    TreatmentIntent
                0..1    LineOfTherapy
                0..1    RegimenIdentifier
                0..1    RegimenName
                0..1    RegimenStartDate    // equivalent to ASTRO Treatment Start Date
                0..1    RegimenStopDate     // equivalent to ASTRO Treatment End Date
                0..1    RadiationModality
                0..1    RadiationDosePerFraction
                0..1    RadiationFractionsDelivered
                0..1    TotalRadiationDoseDelivered

EntryElement:   SurgicalTreatmentPerformed
Based on:       SurgicalProcedurePerformed
Description:    "A medication that is part of a drug treatment regimen"
Concept:        SCT#387713003 "Surgical procedure (procedure)"  
//              SpecificFocusOfFinding value is type TreatmentRegimen
                TopicCode from SurgicalProcedureVS if covered
                0..1    TreatmentIntent
                0..1    LineOfTherapy
                0..1    RegimenIdentifier
                0..1    RegimenName
                0..1    RegimenStartDate
                0..1    RegimenStopDate

Element:        TreatmentIntent
Concept:        SCT#395077000 "Treatment intent (situation)"  // TODO: Needs a new LOINC number"
Description:	"The intended result from a given treatment.  Examples include curative, palliative, and supportive."
Value:          CodeableConcept from TreatmentIntentVS

Element:        LineOfTherapy
Description:	"The sequence of therapies administered to a patient."
Concept:		MTH#C133518 "Line of Therapy"		// TODO: Need new LOINC and SNOMED codes
Value:          CodeableConcept from LineOfTherapyVS

Element:	    RegimenIdentifier
Concept:	    TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:    "A unique identifier assigned to a regimen - a treatment plan that specifies the dosage, the schedule, and the duration of treatment. (source: NCI Dictionary)"
Value:          string  // CodeableConcept?

Element:	    RegimenName
Concept:	    TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:    "The name of the regimen - a treatment plan that specifies the dosage, the schedule, and the duration of treatment. (source: NCI Dictionary)"
Value:          string

Element:		RegimenStartDate
Concept:		TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:	"The date that the treatment regimen began."
Value:			date

Element:		RegimenStopDate
Concept:		TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:	"The date that the treatment regimen began."
Value:			date

Element:        RadiationModality
Concept:        SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"
Description:    "A specific manner, characteristic, pattern of application or the employment of, a method of treatment involving radiation, especially involving the physical treatment of a condition."
Value:          CodeableConcept from RadiationModalityVS

Element:        RadiationDosePerFraction
Concept:        TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:    "The total number of treatment sessions (fractions) administered during a course of radiation therapy therapy. A fraction is a portion of the total radiation dose, delivered as a series of treatments that make up the full course of radiotherapy. (source: LOINC)"
Value:          Ratio

Element:        RadiationFractionsDelivered
Concept:        LNC#21959-2 "Number of radiation treatment"
Description:    "The total number of treatment sessions (fractions) administered during a course of radiation therapy therapy. A fraction is a portion of the total radiation dose, delivered as a series of treatments that make up the full course of radiotherapy. (source: LOINC)"
Value:          Quantity

Element:        TotalRadiationDoseDelivered
Concept:        SCT#445461008 "Total radiation dose delivered (observable entity)"
Description:    "The total amount of radiation dose delivered for the course of therapy. (source: SNOMED, ASTRO)"
Value:          Quantity with units UCUM#Gy
