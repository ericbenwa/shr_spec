Grammar:		DataElement 5.0
Namespace:		oncocore
Description:	"SHR implementation of ASCO requirements."
Uses:  			shr.core, shr.base, shr.entity, shr.medication, shr.procedure

CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:     LNC = http://loinc.org
CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     UCUM = http://unitsofmeasure.org
CodeSystem:		CAP = https://sdt.cap.org
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category
CodeSystem:  	RXN = http://www.nlm.nih.gov/research/umls/rxnorm



EntryElement:   CourseOfTreatmentPerformed
Based on:       ProcedurePerformed  // mlt: questionable to call CourseOfTreatment a procedure. It is modeled as a series of activities including medications administered and procedures.
Description:    "A series of coordinated treatment actions taken with a certain treatment intention."
Concept:        SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"  
                ProcedureCode is SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"  
        0..1    TreatmentIntent
        0..1    LineOfTherapy
        0..*    MedicationStatement     // mlt: to cover patient-asserted medications taken at home.
        0..*    MedicationAdministered  // mlt: to cover clinician-administered meds in a clinical setting.
        0..*    SurgicalProcedurePerformed
        0..*    RadiationTreatmentPerformed
        0..*	AnatomicalLocation  // anatomical location is given in the individual actions
        0..0    Device
        0..0    Location
        0..0    Method

        Element:        TreatmentIntent
        Concept:        SCT#395077000 "Treatment intent (situation)"  // TODO: Needs a new LOINC number"
        Description:	"The intended result from a given treatment.  Examples include curative, palliative, and supportive."
        Value:          CodeableConcept from TreatmentIntentVS

        Element:        LineOfTherapy
        Description:	"The sequence of therapies administered to a patient."
        Concept:	    MTH#C133518 "Line of Therapy"		// TODO: Need new LOINC and SNOMED codes
        Value:          CodeableConcept from LineOfTherapyVS


EntryElement:   RadiationTreatmentPerformed
Based on:       ProcedurePerformed
Description:    "A radiation oncology procedure. If the treatment is part of a course of treatment, the PartOf attribute should indicate the CourseOfTreatment."
Concept:        SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"  
                ProcedureCode is SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)" 
                Method from RadiationModalityVS
        //        0..1    RadiationModality
                0..1    RadiationDosePerFraction
                0..1    RadiationFractionsDelivered
                0..1    TotalRadiationDoseDelivered

/*
Element:        RadiationModality
Concept:        SCT#108290001 "Radiation oncology AND/OR radiotherapy (procedure)"
Description:    "A specific manner, characteristic, pattern of application or the employment of, a method of treatment involving radiation, especially involving the physical treatment of a condition."
Value:          CodeableConcept from RadiationModalityVS
*/

Element:        RadiationDosePerFraction
Concept:        TBD#TBD  // TODO: Needs new LOINC and/or SNOMED codes
Description:    "The total number of treatment sessions (fractions) administered during a course of radiation therapy therapy. A fraction is a portion of the total radiation dose, delivered as a series of treatments that make up the full course of radiotherapy. (source: LOINC)"
Value:          Ratio

Element:        RadiationFractionsDelivered
Concept:        LNC#21959-2 "Number of radiation treatment"
Description:    "The total number of treatment sessions (fractions) administered during a course of radiation therapy therapy. A fraction is a portion of the total radiation dose, delivered as a series of treatments that make up the full course of radiotherapy. (source: LOINC)"
Value:          Quantity

Element:        TotalRadiationDoseDelivered
Concept:        SCT#445461008 "Total radiation dose delivered (observable entity)"
Description:    "The total amount of radiation dose delivered for the course of therapy. (source: SNOMED, ASTRO)"
Value:          Quantity with units UCUM#Gy
