Grammar:	Map 5.1
Namespace:	shr.immunization
Target:		FHIR_STU_3

ImmunizationGiven maps to http://hl7.org/fhir/us/core/StructureDefinition/us-core-immunization:
	ImmunizationTopic.Vaccine.Type maps to vaccineCode
	ImmunizationTopic.Vaccine.LotNumber maps to lotNumber
	ImmunizationTopic.Vaccine.Manufacturer maps to manufacturer
	ImmunizationTopic.Vaccine.ExpirationDate maps to expirationDate
	ImmunizationTopic.Dosage.AdministrationBodySite maps to site
	ImmunizationTopic.Dosage.RouteIntoBody maps to route
	ImmunizationTopic.Dosage.DoseAmount maps to doseQuantity
	constrain vaccinationProtocol to 1..1
	ImmunizationTopic.DoseSequenceNumber maps to vaccinationProtocol.doseSequence
	constrain explanation to 0..1
	ProcedurePerformedContext.Encounter maps to encounter
	ProcedurePerformedContext.Reason maps to explanation.reason
	ProcedurePerformedContext.FHIRProcedureParticipant maps to practitioner.actor
	ProcedurePerformedContext.FHIRProcedureParticipant.ParticipationType maps to practitioner.role
//	ProcedurePerformedContext.FHIRProcedureParticipant.OnBehalfOf maps to nothing
	ProcedurePerformedContext.OccurrenceTimeOrPeriod maps to date
	ProcedurePerformedContext.Status maps to status
	ProcedurePerformedContext.Facility maps to location
//	ProcedurePerformedContext.Outcome maps to extension
//  TODO: must support fixing booleans	
//  fix notGiven to false
//  TODO: Below is commented out because it's not currently supported
//  status is ICS#completed  // FHIR bug: if "wasNotGiven" is true, there is no reasonable choice for status
//  TODO  The following statement is failing it might be a bug
//	ProcedurePerformedContext.Method maps to http://hl7.org/fhir/StructureDefinition/procedure-method
//	ProcedurePerformedContext.RelatedRequest.Value maps to basedOn
//	ProcedurePerformedContext.RelatedPlan maps to definition


/*
ImmunizationNotGiven maps to http://hl7.org/fhir/us/core/StructureDefinition/us-core-immunization:
	Vaccine.Type maps to vaccineCode
	constrain explanation to 0..1
// TODO: must support fixing booleans	
// fix notGiven to true
	NotPerformedContext.NonOccurrenceTimeOrPeriod maps to date
	NotPerformedContext.Reason maps to explanation.reasonNotGiven
	constrain site to 0..0
	constrain route to 0..0
	constrain doseQuantity to 0..0
	TBD "DoseSequenceNumber" maps to vaccinationProtocol.doseSequence
	fix status to #completed // if not given, is this right choice for status?
*/